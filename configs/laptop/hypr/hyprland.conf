#     __  ___________        __                     __                __
#    / /_<  / __/ __ \      / /_  __  ______  _____/ /___ _____  ____/ /
#   / //_/ / /_/ / / /_____/ __ \/ / / / __ \/ ___/ / __ `/ __ \/ __  /
#  / ,< / / __/ /_/ /_____/ / / / /_/ / /_/ / /  / / /_/ / / / / /_/ /
# /_/|_/_/_/  \____/     /_/ /_/\__, / .___/_/  /_/\__,_/_/ /_/\__,_/
#                              /____/_/

### IMPORTS ###

# theme file
source=./theme.conf
# script path
$WAY_SCRIPT_PATH=/home/$USER/.config/scripts/wayland
$SCRIPT_PATH=/home/$USER/.config/scripts

### INPUTS ###

# main monitor
monitor=eDP-1,1920x1080@60,auto,1
workspace=eDP-1,1

# USB-C external monitor
#monitor=DP-1,2560x1440@165,auto,1
#workspace=DP-1,2

# default
monitor=,highrr,auto,1

### MAIN ###

input {
    touchpad {
        natural_scroll=no
    }
    kb_layout=de
    kb_variant=nodeadkeys
    follow_mouse=1
    numlock_by_default=true
    sensitivity=0
    accel_profile=flat
    force_no_accel=true
    natural_scroll=false
}

general {
    gaps_in=4
    gaps_out=8
    border_size=2
    col.active_border=$ACT
    col.inactive_border=$NRM
    apply_sens_to_raw=false
    sensitivity=1
    damage_tracking=full
}

decoration {
    rounding=4
    blur=true
    blur_size=3
    blur_passes=2
    blur_new_optimizations=1
    drop_shadow=false
}

animations {
    enabled=true
    animation=windows,1,4,default,popin
    animation=workspaces,1,4,default,fade
    animation=border,1,4,default
    animation=fade,1,4,default
}

dwindle {
    pseudotile=false
    preserve_split=true
    #special_scale_factor=0
    force_split=false
    #split_width_multiplier=0
    no_gaps_when_only=false
    use_active_for_splits=true
}

gestures {
    workspace_swipe=true
}

misc {
    no_vfr=true
    animate_manual_resizes=false
    mouse_move_enables_dpms=true
    enable_swallow=false
    swallow_regex=^(kitty)$
}

### WINDOW RULES ###

# float rules
windowrulev2=float,class:^([sS]ignal)$
windowrulev2=float,class:^(org.telegram.desktop)$
windowrulev2=float,class:(fstl-app)
windowrulev2=float,class:(imv)
windowrulev2=float,class:^(mpv)$
windowrulev2=float,class:^(org.pwmt.zathura)$
windowrulev2=float,title:([cC]ompress|[eE]xtract|[pP]rogress|[oO]pen|[uU]pload)
windowrulev2=float,title:([pP]in|[pP]assword|[aA]uthentication)
windowrulev2=float,title:^$

# tile rules
windowrulev2=tile,class:^(yubioath)

# size rules
windowrulev2=minsize 800 400,class:^(winbox.exe)$
windowrulev2=minsize 400 200,title:([cC]ompress|[eE]xtract|[pP]rogress|[oO]pen|[uU]p
load)
windowrulev2=maxsize 900 800,title:([cC]ompress|[eE]xtract|[pP]rogress|[oO]pen|[uU]p
load)

# center rules
windowrulev2=center,class:^(file-roller)$
windowrulev2=center,class:^(soffice)$
windowrulev2=center,class:(desktop-portal)
windowrulev2=center,class:^(firefox)$
windowrulev2=center,class:^(thunar)$
windowrulev2=center,title:([cC]ompress|[eE]xtract|[pP]rogress|[oO]pen|[uU]pload)
windowrulev2=center,title:([pP]in|[pP]assword|[aA]uthentication)

### KEYBINDS ###

# app binds
bind=SUPER,Return,exec,kitty
bind=SUPERSHIFT,Q,exec,$WAY_SCRIPT_PATH/ewwPower.sh
bind=SUPER,Q,exec,thunar
bind=SUPERSHIFT,S,exec,$WAY_SCRIPT_PATH/takeWayScreen.sh
bind=SUPER,A,exec,rofi -show run
bind=SUPERSHIFT,A,exec,rofi -show calc
bind=SUPER,L,exec,$WAY_SCRIPT_PATH/swaylock.sh

# wm mod binds
bind=SUPERSHIFT,C,killactive
bind=SUPERSHIFT,R,exec,hyprctl reload
bind=SUPERSHIFT,F,togglefloating,
bind=SUPERCTRL,F,fullscreen
bind=SUPERCTRL,S,workspaceopt,allfloat
bindm=SUPER,mouse:272,movewindow
bindm=SUPER,mouse:273,resizewindow

# window and navigation binds
bind=SUPER,left,movefocus,l
bind=SUPER,right,movefocus,r
bind=SUPER,up,movefocus,u
bind=SUPER,down,movefocus,d
bind=SUPERSHIFT,left,movewindow,l
bind=SUPERSHIFT,right,movewindow,r
bind=SUPERSHIFT,up,movewindow,u
bind=SUPERSHIFT,down,movewindow,d
bind=SUPERCTRL,right,movecurrentworkspacetomonitor,r
bind=SUPERCTRL,left,movecurrentworkspacetomonitor,l
bind=SUPER,1,workspace,1
bind=SUPER,2,workspace,2
bind=SUPER,3,workspace,3
bind=SUPER,4,workspace,4
bind=SUPER,5,workspace,5
bind=SUPER,6,workspace,6
bind=SUPERSHIFT,1,movetoworkspace,1
bind=SUPERSHIFT,2,movetoworkspace,2
bind=SUPERSHIFT,3,movetoworkspace,3
bind=SUPERSHIFT,4,movetoworkspace,4
bind=SUPERSHIFT,5,movetoworkspace,5
bind=SUPERSHIFT,6,movetoworkspace,6

# media keys
bind=,XF86AudioLowerVolume,exec,$SCRIPT_PATH/volume.sh down
bind=,XF86AudioRaiseVolume,exec,$SCRIPT_PATH/volume.sh up
bind=,XF86AudioMute,exec,$SCRIPT_PATH/volume.sh mute
bind=,XF86AudioNext,exec,$SCRIPT_PATH/media.sh next
bind=,XF86AudioPrev,exec,$SCRIPT_PATH/media.sh prev
bind=,XF86AudioPlay,exec,$SCRIPT_PATH/media.sh pp
bind=,XF86MonBrightnessDown,exec,$SCRIPT_PATH/brightness.sh down
bind=,XF86MonBrightnessUp,exec,$SCRIPT_PATH/brightness.sh up

### AUTOSTART ###

# exec
exec-once=systemctl --user import-environment DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once=dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once=hyprctl setcursor Neutral 4
exec-once=/usr/lib/xfce-polkit/xfce-polkit
exec=~/.config/hypr/autostart.sh
